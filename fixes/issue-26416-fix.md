# Fix for Issue #26416

## Problem
[Bug]: Telegram typing indicator stuck indefinitely when elevated tools are involved

## Analysis
### Summary

When `tools.elevated.enabled: true`, the Telegram typing indicator gets stuck permanently after any message that triggers or references elevated exec. This happens regardless of whether `tools.elevated.allowFrom.telegram` is configured or not. The agent run fails silently mid-flight, and the typing indicator is never cancelled.

### Steps to reproduce

1. Set `tools.elevated.enabled: true` in `openclaw.json`
2. 2. Send a message via Telegram that triggers or mentions elevated exec
3. 3. Observe Telegram shows "typing..." indefinitely — no response is ever sent
Tested both scenarios:
- ❌ `allowFrom.telegram` **not configured** → typing stuck
- - ❌ `allowFrom.telegram` **configured with correct user ID** → typing still stuck

### Expected behavior

If elevated is enabled and `allowFrom` is configured, elevated exec should work normally. If `allowFrom` is missing or the sender is not authorized, the gateway should cleanly cancel the typing indicator and either fall back to sandbox execution or return an error message to the user.

## Actual Behavior

Typing indicator persists forever in both cases. No reply is sent. `openclaw sandbox explain` shows:

## Fix Applied
- Analyzed codebase for root cause
- Identified relevant files
- Applied minimal fix following CONTRIBUTING.md guidelines

## Testing
- [ ] pnpm build passes
- [ ] pnpm check passes  
- [ ] pnpm test passes

## Notes
This fix was automatically generated by the GitHub Bug Fixer skill.
Manual review and testing required before merging.
